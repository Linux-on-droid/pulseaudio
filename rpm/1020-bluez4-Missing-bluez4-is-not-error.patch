From 98fc7bc3d6d0ec5fb30fd6fb61ee964c477b4ecf Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Juho=20H=C3=A4m=C3=A4l=C3=A4inen?=
 <juho.hamalainen@jolla.com>
Date: Wed, 15 Feb 2017 17:26:33 +0200
Subject: [PATCH 1020/1022] bluez4: Missing bluez4 is not error.

---
 src/modules/bluetooth/bluez4-util.c | 5 +++--
 1 file changed, 3 insertions(+), 2 deletions(-)

diff --git a/src/modules/bluetooth/bluez4-util.c b/src/modules/bluetooth/bluez4-util.c
index a537fcb..2e061c2 100644
--- a/src/modules/bluetooth/bluez4-util.c
+++ b/src/modules/bluetooth/bluez4-util.c
@@ -715,8 +715,9 @@ static void get_properties_reply(DBusPendingCall *pending, void *userdata) {
     if (dbus_message_is_method_call(p->message, "org.bluez.Device", "GetProperties"))
         d->device_info_valid = valid;
 
-    if (dbus_message_is_error(r, DBUS_ERROR_SERVICE_UNKNOWN)) {
-        pa_log_debug("Bluetooth daemon is apparently not available.");
+    if (dbus_message_is_error(r, DBUS_ERROR_SERVICE_UNKNOWN) ||
+        dbus_message_is_error(r, DBUS_ERROR_UNKNOWN_METHOD)) {
+        pa_log_info("Bluetooth bluez4 daemon is apparently not available.");
         remove_all_devices(y);
         goto finish2;
     }
-- 
2.7.4

